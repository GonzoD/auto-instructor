{"ast":null,"code":"import _regeneratorRuntime from\"/home/ihor/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/auto-Vitaliy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ihor/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/auto-Vitaliy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import CommentsInputForm from'../components/CommentsInputForm';import{observer}from'mobx-react-lite';import{Context}from'../index.js';import{getComments,createComments}from'../http/httpHooks';import{Typography}from'@material-ui/core';import{useMediaQuery}from'react-responsive';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:'flex',flexDirection:'column',alignItems:'center',marginTop:'1%'},header:{fontSize:'50px',fontWeight:'bold'},headerMobile:{fontSize:'30px'},comment:{background:'#1C2128',color:'white',width:'1000px',minHeight:'120px',margin:'0.5% 0',borderRadius:'10px',padding:'10px 10px'},commentMobile:{width:'450px'},name:{color:'#30D171',textTransform:'uppercase',fontWeight:'bold'},text:{fontWeight:600}};});var CommentsPage=observer(function(){var classes=useStyles();var _useContext=useContext(Context),comment=_useContext.comment;var isTabletOrMobile=useMediaQuery({query:'(max-width: 1224px)'});var postHandleDataClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(name,textComment){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createComments(name,textComment).then(function(){return window.location.reload();});case 3:response=_context.sent;return _context.abrupt(\"return\",response);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function postHandleDataClick(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){getComments().then(function(data){return comment.setComments(data);});},[comment]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Typography,{className:\"\".concat(classes.header,\" \").concat(isTabletOrMobile&&classes.headerMobile),children:\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438 \\u0443\\u0447\\u0435\\u043D\\u0438\\u043A\\u043E\\u0432\"}),comment.comments.length!==0&&comment.comments.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.comment,\" \").concat(isTabletOrMobile&&classes.commentMobile),children:[/*#__PURE__*/_jsx(Typography,{className:classes.name,children:item.name}),/*#__PURE__*/_jsx(Typography,{className:classes.text,children:item.text})]},index);}),/*#__PURE__*/_jsx(CommentsInputForm,{onClick:postHandleDataClick})]});});export default CommentsPage;","map":{"version":3,"sources":["/home/ihor/Рабочий стол/auto-Vitaliy/client/src/pages/CommentsPage.jsx"],"names":["React","useContext","useEffect","makeStyles","CommentsInputForm","observer","Context","getComments","createComments","Typography","useMediaQuery","useStyles","theme","root","display","flexDirection","alignItems","marginTop","header","fontSize","fontWeight","headerMobile","comment","background","color","width","minHeight","margin","borderRadius","padding","commentMobile","name","textTransform","text","CommentsPage","classes","isTabletOrMobile","query","postHandleDataClick","textComment","then","window","location","reload","response","console","log","data","setComments","comments","length","map","item","index"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentsInputForm from '../components/CommentsInputForm';\nimport {observer} from 'mobx-react-lite'\nimport {Context} from '../index.js'\nimport {getComments, createComments} from '../http/httpHooks'\nimport { Typography } from '@material-ui/core'\nimport { useMediaQuery } from 'react-responsive'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginTop: '1%'\n    },\n    header: {\n        fontSize: '50px',\n        fontWeight: 'bold'\n    },\n    headerMobile: {\n        fontSize: '30px'\n    },\n    comment: {\n        background: '#1C2128',\n        color: 'white', \n        width: '1000px',\n        minHeight: '120px',\n        margin: '0.5% 0',\n        borderRadius: '10px',\n        padding: '10px 10px'\n    },\n    commentMobile: {\n        width: '450px',\n    },\n    name: {\n        color: '#30D171',\n        textTransform: 'uppercase',\n        fontWeight: 'bold'\n    },\n    text: {\n        fontWeight: 600\n    },\n}))\n\nconst CommentsPage = observer(() => {\n    const classes = useStyles()\n    const {comment} = useContext(Context)\n    const isTabletOrMobile = useMediaQuery({ query: '(max-width: 1224px)' })\n\n    const postHandleDataClick = async (name, textComment) => {\n        try {\n            const response = await createComments(name, textComment).then(() => window.location.reload())\n            return response\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    useEffect(() => {\n        getComments().then(data => comment.setComments(data))\n    }, [comment])\n\n    return <div className={classes.root}>\n        <Typography className={`${classes.header} ${isTabletOrMobile && classes.headerMobile}`}>Комментарии учеников</Typography>\n        {comment.comments.length !== 0 && comment.comments.map((item, index) => {\n           return <div key={index} className={`${classes.comment} ${isTabletOrMobile && classes.commentMobile}`}>\n               <Typography className={classes.name} >{item.name}</Typography>\n               <Typography className={classes.text} >{item.text}</Typography>\n               </div>\n        })}\n        <CommentsInputForm onClick={postHandleDataClick}/>\n    </div>\n})\n\nexport default CommentsPage"]},"metadata":{},"sourceType":"module"}